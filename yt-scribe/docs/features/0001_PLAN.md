# Purpose Form Default Values and Validation Enhancement

## Brief Description

Update the PurposeForm component to:

- Set "Niestandardowe" (custom) as the default selected purpose option
- Enable default checkbox states for learning and social media sections
- Make the custom prompt field mandatory when custom purpose is selected
- Update validation schema to enforce custom prompt requirement

## Files and Functions to Change

### 1. PurposeForm.helpers.ts

**File**: `yt-scribe/src/components/dashboard/TranscriptionForms/forms/PurposeForm/PurposeForm.helpers.ts`

- **Function**: `PurposeDefaultValue` object
- **Changes**:
  - Update `[FORM_FIELD_NAMES.PURPOSE]` from `""` to `"custom"`
  - Set `generateMindMap: true` in options (default for learning)
  - Set `generateSocialPost: true` in options (default for social_media)

### 2. purposeSchema.ts

**File**: `yt-scribe/src/components/dashboard/TranscriptionForms/forms/PurposeForm/purposeSchema.ts`

- **Function**: `purposeSchema` validation object
- **Changes**:
  - Add new validation rule in the `refine` method
  - Validate that `options.customPrompt` is required and non-empty when `purpose === "custom"`
  - Update the existing refine logic to handle both custom purpose and custom prompt validation
  - Add appropriate error message and path for custom prompt validation

## Algorithm Steps

### Default Values Logic:

1. When form initializes, set purpose to "custom"
2. Set learning checkbox (generateMindMap) to true by default
3. Set social media checkbox (generateSocialPost) to true by default

### Validation Logic:

1. Check if purpose is "custom"
2. If custom purpose selected, validate that `options.customPrompt` exists and is not empty string
3. Maintain existing validation for CUSTOM_PURPOSE field when purpose is "Inny"
4. Return validation error with specific path pointing to the custom prompt field

### Conditional Rendering Logic:

1. ConditionalOptions component will automatically show custom section when purpose="custom"
2. Required validation will prevent form submission until custom prompt is filled
3. User cannot proceed without entering text in the custom prompt field

## Technical Notes

- The custom purpose option code appears to be "custom" based on ConditionalOptions.tsx conditional rendering
- Current validation uses FORM_FIELD_NAMES.CUSTOM_PURPOSE for "Inny" option, while custom prompt uses FORM_FIELD_NAMES.CUSTOM_PROMPT
- Schema validation will need to handle both fields with appropriate error paths
- Default checkbox states will apply universally but only be visible when their respective sections are shown
